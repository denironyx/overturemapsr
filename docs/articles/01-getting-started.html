<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="overturemapsr">
<title>Getting Started with overturemapsr • overturemapsr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started with overturemapsr">
<meta property="og:description" content="overturemapsr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">overturemapsr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/01-getting-started.html">Getting Started with overturemapsr</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/denironyx/overturemapsr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Getting Started with overturemapsr</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/denironyx/overturemapsr/blob/HEAD/vignettes/articles/01-getting-started.Rmd" class="external-link"><code>vignettes/articles/01-getting-started.Rmd</code></a></small>
      <div class="d-none name"><code>01-getting-started.Rmd</code></div>
    </div>

    
    
<p>The Overture Map Data project was launched by the Linux Foundation in
2022. Its goal is to create a geospatial data product that is
easy-to-use and interoperable, merging datasets from both open and
commercial data contributors. The list of Overture members is extensive
and includes many of the industry’s biggest players, like Amazon, Meta,
Microsoft, and TomTom. These companies are teaming up with open data
projects to create a larger and more consistent geospatial dataset than
ever before.</p>
<div class="section level3">
<h3 id="overturemapsr">Overturemapsr<a class="anchor" aria-label="anchor" href="#overturemapsr"></a>
</h3>
<p>The <code>overturemapsr</code> R package provides access to Overture
Maps open data. With this package, you can access over 2.3 billion
building footprints, 52.6 million points of interest, and other features
made available by Overture Maps.</p>
<div class="section level4">
<h4 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h4>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'overturemapsr'</span><span class="op">)</span></span></code></pre>
<p>You can install the development version of <code>overturemapsr</code>
from GitHub</p>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"denironyx/overturemapsr"</span><span class="op">)</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="loading-the-package">Loading the Package<a class="anchor" aria-label="anchor" href="#loading-the-package"></a>
</h3>
<p>Start by loading the <code>overturemapsr</code> package:</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">overturemapsr</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/apache/arrow/" class="external-link">arrow</a></span><span class="op">)</span></span></code></pre>
<div class="section level4">
<h4 id="available-themes">Available Themes<a class="anchor" aria-label="anchor" href="#available-themes"></a>
</h4>
<p>You can view all available themes using the
<code><a href="../reference/get_all_overture_schema_types.html">get_all_overture_schema_types()</a></code> function:</p>
<pre><code><span><span class="co"># Get all available overture types</span></span>
<span><span class="va">themes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_all_overture_schema_types.html">get_all_overture_schema_types</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">themes</span><span class="op">)</span></span></code></pre>
<p>This will return:</p>
<pre><code>[1] "locality"                "locality_area"           "administrative_boundary"
[4] "building"                "building_part"           "division"               
[7] "division_area"           "place"                   "segment"                
[10] "connector"               "infrastructure"          "land"                   
[13] "land_cover"              "land_use"                "water"  </code></pre>
</div>
<div class="section level4">
<h4 id="accessing-datasets">Accessing Datasets<a class="anchor" aria-label="anchor" href="#accessing-datasets"></a>
</h4>
<p>To access the datasets provided by Overture Maps, use the
<code><a href="https://arrow.apache.org/docs/r/reference/open_dataset.html" class="external-link">arrow::open_dataset()</a></code> function along with the
<code>dataset_path</code> function. Here is how you can access and
explore the building footprints and points of interest datasets without
loading it into memory.</p>
<div class="section level5">
<h5 id="building-footprints">Building Footprints<a class="anchor" aria-label="anchor" href="#building-footprints"></a>
</h5>
<pre><code><span><span class="co"># Access the building dataset</span></span>
<span><span class="va">building_dataset</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://arrow.apache.org/docs/r/reference/open_dataset.html" class="external-link">open_dataset</a></span><span class="op">(</span><span class="fu"><a href="../reference/dataset_path.html">dataset_path</a></span><span class="op">(</span><span class="st">'building'</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get the number of rows in the building dataset</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">building_dataset</span><span class="op">)</span></span></code></pre>
<pre><code>[1] 2355192722</code></pre>
</div>
<div class="section level5">
<h5 id="point-of-interest">Point of Interest<a class="anchor" aria-label="anchor" href="#point-of-interest"></a>
</h5>
<p>Using the place theme, we can fetch point of interests.</p>
<pre><code><span><span class="co"># Access the place dataset</span></span>
<span><span class="va">places_dataset</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://arrow.apache.org/docs/r/reference/open_dataset.html" class="external-link">open_dataset</a></span><span class="op">(</span><span class="fu"><a href="../reference/dataset_path.html">dataset_path</a></span><span class="op">(</span><span class="st">'place'</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get the number of rows in the place dataset</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">places_dataset</span><span class="op">)</span></span></code></pre>
<pre><code>[1] 52622149</code></pre>
</div>
</div>
<div class="section level4">
<h4 id="using-bounding-boxes">Using Bounding Boxes<a class="anchor" aria-label="anchor" href="#using-bounding-boxes"></a>
</h4>
<p>To limit the size of the dataset and processing time, you can use
bounding boxes. This is especially useful when dealing with large
datasets. Here is an example of how to use a bounding box with the
<code><a href="../reference/record_batch_reader.html">record_batch_reader()</a></code> function that convert parquet file
into data frame for use:</p>
<pre><code><span><span class="co"># Example bounding box</span></span>
<span><span class="va">sf_bbox</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">122.5</span>, <span class="fl">37.7</span>, <span class="op">-</span><span class="fl">122.3</span>, <span class="fl">37.8</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Retrieve filtered dataset based on the bounding box</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/record_batch_reader.html">record_batch_reader</a></span><span class="op">(</span>schema_type <span class="op">=</span> <span class="st">'place'</span>, bbox <span class="op">=</span> <span class="va">sf_bbox</span><span class="op">)</span></span></code></pre>
<p>Result:</p>
<pre><code># A tibble: 6 × 15
  id                                           geometry bbox$xmin $xmax $ymin $ymax version update_time                                                                sources names$primary    categories$main confidence websites socials emails phones 

    dataset   : &gt; &lt;chr&gt;            &lt;chr&gt;                &lt;dbl&gt; &lt;list&lt;c&gt; &lt;list&lt;&gt; &lt;list&gt; &lt;list&gt; &lt;chr&gt;           &lt;list&lt;
 
1 08f2830940592b5e034cef17a0ea78ce (-122.4964 37.70068)     -122. -122.  37.7  37.7       0 2024-05-10T00:00:00.000Z                                                   [1 × 4] Palo -Mar Stabl… active_life          0.363      [1]     [1]           [1] NA               [1 × 5]
2 08f28309462d847503a8e8da827c2bca  (-122.494 37.70005)     -122. -122.  37.7  37.7       0 2024-05-10T00:00:00.000Z                                                   [6 × 4] Gelardi Tax Ser… tax_services         0.77       [1]                   [1] NA               [1 × 5]
3 08f283094290a29e03cfbf6f434fee90 (-122.4918 37.70196)     -122. -122.  37.7  37.7       0 2024-05-10T00:00:00.000Z                                                   [1 × 4] CorgiLand        pet_services         0.270              [1]               NA               [1 × 5]
4 08f2830942902400033849542bf6efe8 (-122.4905 37.70099)     -122. -122.  37.7  37.7       0 2024-05-10T00:00:00.000Z                                                   [1 × 4] Ruff 'n Ready L… pet_services         0.319      [1]     [1]           [1] NA               [1 × 5]
5 08f2830942914d12033d68719b44ca5c (-122.4889 37.70062)     -122. -122.  37.7  37.7       0 2024-05-10T00:00:00.000Z                                                   [1 × 4] Pleiades         professional_s…      0.319      [1]     [1]           [1] NA               [1 × 5]</code></pre>
</div>
</div>
<div class="section level3">
<h3 id="in-summary">In Summary:<a class="anchor" aria-label="anchor" href="#in-summary"></a>
</h3>
<p>The <code>overturemapsr</code> package is a powerful tool for
accessing and working with Overture Maps open data in R. It provides a
straightforward way to download and manipulate large geospatial
datasets. With features like bounding box filtering, you can efficiently
manage and analyze the data relevant to your area of interest.</p>
</div>
<div class="section level3">
<h3 id="additional-resources">Additional Resources<a class="anchor" aria-label="anchor" href="#additional-resources"></a>
</h3>
<ul>
<li>
<a href="https://boundingbox.klokantech.com/" class="external-link">Bounding Box Tool from
Klokantech</a>: Use this tool to find and specify bounding boxes of
interest for your data queries.</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dennis Irorere.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
